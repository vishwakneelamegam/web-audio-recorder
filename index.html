<html>
<head>
<script>
let audioIN = { audio: true };
navigator.mediaDevices.getUserMedia(audioIN).then(function (mediaStreamObj) {
let start = document.getElementById('record');
let playAudio = document.getElementById('play');
let mediaRecorder = new MediaRecorder(mediaStreamObj);
let dataArray = [];
start.addEventListener('click', function (ev) {
mediaRecorder.start();
setTimeout(()=>{
mediaRecorder.stop();
},5000);
})
mediaRecorder.ondataavailable = function (ev) {
dataArray.push(ev.data);
}
mediaRecorder.onstop = function (ev) {
let audioData = new Blob(dataArray,{ 'type': 'audio/wav;' });
dataArray = [];
let audioSrc = window.URL.createObjectURL(audioData);
playAudio.src = audioSrc;}})
.catch(function (err) {
console.log(err.name, err.message);
});
</script>
</head>
<body>
<button id="record">Record</button>
</br></br>
<audio id="play" controls></audio>
</body>
</html>
